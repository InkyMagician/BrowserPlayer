<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VLC-based Video Player</title>
    <style>
        #videoContainer { width: 640px; height: 380px; margin: 20px auto; }
        #vlcPlayer { width: 100%; height: 100%; }
        #fileInput { margin-top: 10px; }
        #errorLog { margin-top: 10px; color: red; }
    </style>
</head>
<body>
    <div id="videoContainer">
        <object id="vlcPlayer" type="application/x-vlc-plugin" width="640" height="360">
            <param name="autoplay" value="false" />
            <param name="controls" value="true" />
        </object>
    </div>
    <input type="file" id="fileInput" accept="video/*,.ts">
    <div id="errorLog"></div>

    <script>
        const vlcPlayer = document.getElementById('vlcPlayer');
        const fileInput = document.getElementById('fileInput');
        const errorLog = document.getElementById('errorLog');

        function logError(message) {
            console.error(message);
            errorLog.innerHTML += message + '<br>';
        }

        fileInput.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const fileURL = URL.createObjectURL(file);
                try {
                    vlcPlayer.playlist.clear();
                    const itemId = vlcPlayer.playlist.add(fileURL, file.name, []);
                    vlcPlayer.playlist.playItem(itemId);
                } catch (error) {
                    logError('Error playing video: ' + error.message);
                }
            }
        });
    </script>
</body>
</html>
